# 1️⃣ 프로세스와 스레드

### 프로세스란

- 컴퓨터 시스템의 작업단위
- 실행 중인 프로그램
- 테스크라고도 불림

### 프로그램과 프로세스의 차이점

- 프로그램은 저장장치에 저장된 정적인 상태
- 프로세스는 실행을 위해 메모리에 올려온 동적인 상태
- 프로세스 = 프로그램 + 프로세스 제어블록

### "프로세스가 실행된다"의 의미 

1. 운영체제가 저장장치에 저장된 프로그램을 메모리의 적당한 위치로 가져온다
2. 프로세스 제어블록을 생성한다. 

### 프로세스 제어블록이란

- 프로세스의 작업지시서이다
- 운영체제가 해당 프로세스를 위해 관리하는 데이터 구조, 운영체제 영역에 만들어짐
- 프로세스가 종료되면 프로세스와 프로세스 제어블록 제거
- 프로그램이 프로세스가 되었다는 것은 운영체제로부터 프로세스 제어블록을 받았다는 의미이다

### 프로세스 제어블록의 구성

- 프로세스 구분자 (PID)
  - 여러 프로세스를 구분하는 아이디
- 메모리 관련 정보
  - 프로세스가 올라간(실행중인) 메모리의 위치 정보
    - 경계 레지스터
    - 한계 레지스터
- 각종 중간값 (상태 저장값)
  - 시분할 시스템과 연관지어 생각할 것 → 상태 저장이 필요함
  - 프로그램 카운터 레지스터
    - 다음에 작업해야할 코드의 위치

### 운영체제도 프로세스이다 ! 

- 운영체제도 프로그램이고, 프로세스이다.
- 컴퓨터 입장에선 유저 프로세스와 커널 프로세스로 구분된다.
- 일반 사용자 (일반 프로그램) → 유저 프로세스 실행
  - **운영체제**가 일반 프로그램을 메모리에 올림
  - 일반 사용자의 유저 프로세스 (user process)
- 운영체제 (운영체제 프로그램)
  - **부트스트랩**이 운영체제 프로그램을 메모리에 올림 → 커널 프로세스 실행
  - 운영체제의 커널 프로세스 (kernel process)

### 🚧 부트스트랩이란

### 일괄 작업 시스템의 프로세스 상태

- 생성 상태 → 실행 상태 → 완료 상태

### 시분할 시스템의 프로세스 상태

- 일괄 작업 시스템보다 복잡함, **프로세스의 4가지 상태**에서 이어짐

### 프로세스의 4가지 상태

- 생성 상태
  - 프로세스가 메모리에 올라와 실행 준비를 완료한 상태
  - 운체가 프로세스 제어블록을 생성하는 상태 (생성 상태가 끝나면 PCB 존재)
- 준비 상태
  - 생성된 프로세스가 CPU를 얻을 때까지 기다리는 상태
- 실행 상태
  - 준비 상태인 프로세스가 CPU를 얻어 실제 작업을 수행하는 상태
    - CPU를 얻는다 (디스패치)
  - 주어진 시간동안 작업이 완료되지 못했다면, 준비 상태로 돌아가 차례를 기다림 (타임아웃, 클록으로 부터 인터럽트를 받고 타임아웃됨)
- 완료 상태
  - 실행 상태의 프로세스가 주어진 시간(타임 슬라이스, 타임 퀀텀)동안 작업을 마쳐, 프로세스 제어블록이 사라진 상태 (완료 상태가 시작되었다면 PCB 제거된 상태)

### 🚧 프로세스의 5가지 상태 (활성 상태)

- 현대의 복잡성을 대비하기 위해 **프로세스의 4가지 상태**에서 발전함
- 생성 상태
- 준비 상태
- 실행 상태
- **대기 상태**
- 완료 상태

143p
